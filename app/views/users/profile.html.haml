.row
  .column.small-12
    - if @user.role != 'Resident'
      %h2== #{@user.name} (#{@user.role})
    - else
      %h2= @user.name
  .column.small-12.medium-6
    %table#contact_info
      %thead
        %tr
          %td{ colspan: 3 } Contact Information
        %tr
          %td Room Number
          %td Email
          %td Phone Number
      %tbody
        %tr
          %td= @room_number
          %td= @email
          %td= @phone_number
  .column.small-12.medium-6
    %table#user_category_preferences
      %thead
        %tr
          %td{ colspan: 2 } Workshift Category Preferences
      %tbody
        - @preferences.each do |preference|
          %tr
            %td= preference.rank
            %td= link_to preference.category.name, preference.category

  - if policy(:user).update_required_hours?
    .settings-section.column.small-8.medium-6
      %fieldset
        %legend Required Weekly Hours
        %p= "Current Required Hours: #{@user.required_hours}"
        = form_tag update_required_hours_path(@user)
        = label_tag :required_hours, "New Required Hours"
        = number_field_tag :required_hours, @user.required_hours, step: 0.5
        = submit_tag "Change Required Hours", class: 'button'

  %h3.column.small Current Workshift Assignments
  .column.small-12
    = render 'users/workshift_assignments',
      workshift_assignments: @workshift_assignments

  %h3.column.small Workshift Log
  .column.small-12
    = render 'users/workshift_assignments_history',
      workshift_assignments: @workshift_assignments_history
